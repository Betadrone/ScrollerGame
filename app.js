(()=>{"use strict";var e,t={226:(e,t,s)=>{var i=s(260),a=s.n(i);class r extends a().Scene{constructor(e,t){super(e),this.config=t,this.screenCenter=[t.width/2,t.height/2],this.fontSize=34,this.lineHeight=42,this.fontOptions={fontSize:`${this.fontSize}px`,fill:"#FFF",fontWeight:"bold"},this.buffer=100}create(){if(this.add.image(0,0,"sky2").setOrigin(0).setScale(1,1.5),this.config.canGoBack){this.add.image(this.config.width-10,this.config.height-10,"back").setInteractive().setScale(2).setOrigin(1).on("pointerup",(()=>{this.scene.start("MenuScene")}))}}createMenu(e,t){let s=0;e.forEach((e=>{const i=[this.screenCenter[0],this.screenCenter[1]+s];e.textGO=this.add.text(...i,e.text,this.fontOptions).setOrigin(.5,1),s+=this.lineHeight,t(e)}))}}const h=r;const c=class extends h{constructor(e){super("PlayScene",e),this.character=null,this.pipes=null,this.isPaused=!1,this.pipeHorizontalDistance=0,this.FLAP_VELOCITY=300,this.score=0,this.scoreText="",this.currentDifficulty="easy",this.difficulties={easy:{pipeHorizontalDistanceRange:[115,140],pipeVerticalDistanceRange:[160,180]},normal:{pipeHorizontalDistanceRange:[90,115],pipeVerticalDistanceRange:[140,160]},hard:{pipeHorizontalDistanceRange:[70,90],pipeVerticalDistanceRange:[120,140]}}}create(){this.currentDifficulty="easy",super.create(),this.createBird(),this.createPipes(),this.createLava(),this.createColliders(),this.createScore(),this.createPause(),this.createJoystick(),this.createFScreen(),this.createSound(),this.listenToEvents(),this.music.play(),this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("character",{start:20,end:29}),frameRate:10,repeat:-1}),this.anims.create({key:"turn",frames:[{key:"character",frame:0}],frameRate:20}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("character",{start:30,end:39}),frameRate:10,repeat:-1}),this.cursors=this.input.keyboard.createCursorKeys()}update(){this.checkGameStatus(),this.recyclePipes(),this.playerControls()}listenToEvents(){this.pauseEvent||(this.pauseEvent=this.events.on("resume",(()=>{this.initialTime=3,this.countDownText=this.add.text(...this.screenCenter,"fly in: "+this.initialTime,this.fontOptions).setOrigin(.5),this.timedEvent=this.time.addEvent({delay:1e3,callback:this.countDown,callbackScope:this,loop:!0}),this.music.resume()})))}countDown(){this.initialTime--,this.countDownText.setText(`fly in: ${this.initialTime}`),this.initialTime<=0&&(this.isPaused=!1,this.countDownText.setText(""),this.physics.resume(),this.timedEvent.remove())}createBG(){this.add.image(0,0,"sky2").setOrigin(0,0)}createBird(){this.character=this.physics.add.sprite(this.config.startPosition.x,this.config.startPosition.y,"character").setScale(.7).setOrigin(0),this.character.setBodySize(this.character.width-62,this.character.height-25),this.character.body.gravity.y=600,this.character.setCollideWorldBounds(!0)}createPipes(){this.platform=this.physics.add.image(0,.65*this.config.height,"pipe").setImmovable(!0).setOrigin(0),this.pipes=this.physics.add.group();for(let e=0;e<5;e++){const e=this.pipes.create(0,0,"pipe").setScale(1,1).setImmovable(!0).setOrigin(1,0);e.setBodySize(this.pipes.width-100,this.pipes.height-50);const t=this.pipes.create(0,0,"pipe").setScale(1,1).setImmovable(!0).setOrigin(0,0);t.setBodySize(this.pipes.width-100,this.pipes.height-50),this.placePipe(e,t)}this.pipes.setVelocityY(100),this.platform.setVelocityY(25)}createLava(){this.lava=this.physics.add.image(0,.93*this.config.height,"lava").setImmovable().setOrigin(0)}createColliders(){this.physics.add.collider(this.character,this.pipes),this.physics.add.collider(this.character,this.platform),this.physics.add.collider(this.character,this.lava,this.gameOver,null,this)}createScore(){this.score=0,this.tempX=this.config.width/100;const e=localStorage.getItem("bestScore");this.scoreText=this.add.text(this.tempX,this.config.height/100,"Score: 0",{fontSize:"32px",fill:"#FFF"}),this.bestScore=this.add.text(this.tempX,this.config.height/15,`Best Score: ${e||0}`,{fontSize:"18px",fill:"#FFF"})}createPause(){this.isPaused=!1;this.add.image(this.config.width/100*99,this.config.height/100*99,"pause").setInteractive().setScale(3).setOrigin(1,1).on("pointerdown",(()=>{this.isPaused=!0,this.physics.pause(),this.scene.pause(),this.music.pause(),this.scene.launch("PauseScene")}))}createJoystick(){this.joyStick=this.plugins.get("rexvirtualjoystickplugin").add(this,{x:this.config.width/7,y:.93*this.config.height,radius:40,base:this.add.circle(0,0,40,8947848),thumb:this.add.circle(0,0,25,13421772)})}createFScreen(){this.fScreen=this.add.image(.8*this.config.width,.955*this.config.height,"fScreen").setScale(.75),this.fScreen.setInteractive().on("pointerdown",(()=>{this.scale.toggleFullscreen()}))}createSound(){this.death=this.sound.add("death",{loop:!1}),this.music=this.sound.add("music",{loop:!0})}checkGameStatus(){this.character.getBounds().bottom>=this.config.height&&this.gameOver()}placePipe(e,t){const s=this.difficulties[this.currentDifficulty],i=this.getTopMostPipe();let a=Phaser.Math.Between(...s.pipeHorizontalDistanceRange),r=Phaser.Math.Between(20,this.config.width-20-a),h=Phaser.Math.Between(...s.pipeVerticalDistanceRange);e.x=r,e.y=i-h,t.x=e.x+a,t.y=e.y}recyclePipes(){const e=[];this.pipes.getChildren().forEach((t=>{t.getBounds().top>=this.config.height&&(e.push(t),2===e.length&&(this.placePipe(...e),this.increaseScore(),this.saveBestScore(),this.increaseDifficulty()))}))}playerControls(){this.isPaused||(this.keyA=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.A),this.keyD=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.D),this.keyW=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.W),this.keyJ=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.J),this.spaceKey=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE),this.cursors.left.isDown||this.keyA.isDown||this.joyStick.left?(this.character.setVelocityX(-220),this.character.anims.play("left",!0)):this.cursors.right.isDown||this.keyD.isDown||this.joyStick.right?(this.character.setVelocityX(220),this.character.anims.play("right",!0)):(this.character.setVelocityX(0),this.character.anims.play("turn")),(this.cursors.up.isDown||this.keyW.isDown||this.spaceKey.isDown||this.keyJ.isDown||this.joyStick.up)&&this.character.body.touching.down&&this.character.setVelocityY(-530))}increaseDifficulty(){6===this.score&&(this.currentDifficulty="normal"),10===this.score&&(this.currentDifficulty="hard"),this.score%5==0&&(this.buffer+=5,this.buffer>=180&&(this.buffer=180),this.pipes.setVelocityY(this.buffer))}getTopMostPipe(){let e=0;return this.pipes.getChildren().forEach((function(t){e=Math.min(t.y,e)})),e}saveBestScore(){const e=localStorage.getItem("bestScore"),t=e&&parseInt(e,10);(!t||this.score>t)&&localStorage.setItem("bestScore",this.score),localStorage.setItem("score",this.score)}gameOver(){this.physics.pause(),this.character.setTint(16734003),this.music.stop(),this.death.play(),this.saveBestScore(),this.time.addEvent({delay:1e3,callback:()=>{this.scene.start("GameOverScreen")},loop:!1})}flap(){this.isPaused||(this.character.body.velocity.y=-this.FLAP_VELOCITY)}increaseScore(){this.score++,this.scoreText.setText(`Score: ${this.score}`)}};const n=class extends h{constructor(e){super("MenuScene",e),this.menu=[{scene:"PlayScene",text:"Play"},{scene:"ScoreScene",text:"Score"},{scene:null,text:"Exit"}]}create(){super.create(),this.createMenu(this.menu,this.setupMenuEvents.bind(this)),this.createCredit()}setupMenuEvents(e){const t=e.textGO;t.setInteractive(),t.on("pointerover",(()=>{t.setStyle({fill:"#ff0"})})),t.on("pointerout",(()=>{t.setStyle({fill:"#FFF"})})),t.on("pointerup",(()=>{e.scene&&this.scene.start(e.scene),"Exit"===e.text&&this.game.destroy(!0)}))}createCredit(){this.creditText=this.add.text(.5*this.config.width,.9*this.config.height,"Programmed by: Ashhad Muhammad",{fontSize:18,fill:"#FFF"}).setOrigin(.5)}};class o extends a().Scene{constructor(){super("PreloadScene")}preload(){this.url="https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexvirtualjoystickplugin.min.js",this.load.plugin("rexvirtualjoystickplugin",this.url,!0),this.load.image("sky2","assets/myBackground.png"),this.load.spritesheet("character","assets/samus.png",{frameWidth:100,frameHeight:100}),this.load.image("pipe","assets/myPlatform.png"),this.load.image("pause","assets/pause.png"),this.load.image("back","assets/back.png"),this.load.image("lava","assets/lava.png"),this.load.image("fScreen","assets/fScreen.png"),this.load.audio("death",["assets/videogame-death-sound-43894.mp3"]),this.load.audio("music",["assets/Deer_-_Immaterial_-_ANBR_Adrian_Berenguer.mp3"])}create(){this.scene.start("MenuScene")}}const l=o;const p=class extends h{constructor(e){super("ScoreScene",{...e,canGoBack:!0})}create(){super.create();const e=localStorage.getItem("bestScore");this.bestScore=this.add.text(...this.screenCenter,`Best Score: ${e||0}`,{fontSize:"32px",fill:"#FFF"}).setOrigin(.5,0)}};const d=class extends h{constructor(e){super("PauseScene",e),this.menu=[{scene:"PlayScene",text:"Continue"},{scene:"MenuScene",text:"Exit"}]}create(){super.create(),this.createMenu(this.menu,this.setupMenuEvents.bind(this))}setupMenuEvents(e){const t=e.textGO;t.setInteractive(),t.on("pointerover",(()=>{t.setStyle({fill:"#ff0"})})),t.on("pointerout",(()=>{t.setStyle({fill:"#FFF"})})),t.on("pointerup",(()=>{e.scene&&"Continue"===e.text?(this.scene.stop(),this.scene.resume(e.scene)):(this.scene.stop("PlayScene"),this.scene.start(e.scene))}))}};const u=class extends h{constructor(e){super("GameOverScreen",e),this.menu=[{scene:"PlayScene",text:"Try Again"},{scene:"MenuScene",text:"Quit"}]}create(){super.create(),this.createMenu(this.menu,this.setupMenuEvents.bind(this)),this.createGameOver()}setupMenuEvents(e){const t=e.textGO;t.setInteractive(),t.on("pointerover",(()=>{t.setStyle({fill:"#ff0"})})),t.on("pointerout",(()=>{t.setStyle({fill:"#FFF"})})),t.on("pointerup",(()=>{e.scene&&this.scene.start(e.scene),"Exit"===e.text&&this.game.destroy(!0)}))}createGameOver(){this.creditText=this.add.text(.5*this.config.width,.25*this.config.height,"Game Over",{fontSize:40,fill:"#FF2D00"}).setOrigin(.5);const e=localStorage.getItem("score");this.scoreText=this.add.text(.5*this.config.width,.35*this.config.height,`Your Score: ${e||0}`,{fontSize:"40px",fill:"#FFF"}).setOrigin(.5)}},g={width:400,height:600,startPosition:{x:40,y:300}},f=[l,n,p,c,d,u],y=e=>new e(g),m={type:a().AUTO,...g,pixelArt:!0,physics:{default:"arcade",arcade:{}},scene:f.map(y)};new(a().Game)(m)}},s={};function i(e){var a=s[e];if(void 0!==a)return a.exports;var r=s[e]={exports:{}};return t[e].call(r.exports,r,r.exports,i),r.exports}i.m=t,e=[],i.O=(t,s,a,r)=>{if(!s){var h=1/0;for(l=0;l<e.length;l++){for(var[s,a,r]=e[l],c=!0,n=0;n<s.length;n++)(!1&r||h>=r)&&Object.keys(i.O).every((e=>i.O[e](s[n])))?s.splice(n--,1):(c=!1,r<h&&(h=r));if(c){e.splice(l--,1);var o=a();void 0!==o&&(t=o)}}return t}r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[s,a,r]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={143:0};i.O.j=t=>0===e[t];var t=(t,s)=>{var a,r,[h,c,n]=s,o=0;if(h.some((t=>0!==e[t]))){for(a in c)i.o(c,a)&&(i.m[a]=c[a]);if(n)var l=n(i)}for(t&&t(s);o<h.length;o++)r=h[o],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(l)},s=self.webpackChunkphaser_webpack_boilerplate=self.webpackChunkphaser_webpack_boilerplate||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var a=i.O(void 0,[736],(()=>i(226)));a=i.O(a)})();